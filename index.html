<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ficha TÃ©cnica Pro</title>
    <script>
        (function () {
            try {
                const savedPrefs = localStorage.getItem('ficha_tecnica_prefs');
                if (!savedPrefs) return;
                const parsed = JSON.parse(savedPrefs);
                let themeMode = parsed.themeMode;
                if (themeMode !== 'light' && themeMode !== 'dark' && themeMode !== 'system') {
                    if (parsed.isDarkMode === true || parsed.isDarkMode === 'true') themeMode = 'dark';
                    if (parsed.isDarkMode === false || parsed.isDarkMode === 'false') themeMode = 'light';
                }
                if (themeMode !== 'light' && themeMode !== 'dark' && themeMode !== 'system') return;
                const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
                const useDark = themeMode === 'dark' || (themeMode === 'system' && prefersDark);
                document.documentElement.classList.toggle('dark', useDark);
                document.documentElement.dataset.theme = useDark ? 'dark' : 'light';
                document.documentElement.dataset.themeMode = themeMode;
                document.documentElement.style.colorScheme = useDark ? 'dark' : 'light';
                if (document.body) {
                    document.body.classList.toggle('dark', useDark);
                }
            } catch {
                // Ignore theme boot errors
            }
        })();
    </script>
    <script>
        window.tailwind = {
            config: {
                darkMode: 'class',
                theme: {
                    extend: {
                        fontFamily: {
                            sans: ['Manrope', 'sans-serif'],
                        },
                    },
                },
            },
        };
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&family=Merriweather:wght@400;600;700&family=Oswald:wght@400;600&display=swap');

        body {
            font-family: 'Manrope', sans-serif;
            background-color: #f9fafb;
        }

        html.dark body {
            background-color: #0b0b0c;
        }

        :root {
            --radius-lg: 14px;
            --radius-md: 12px;
            --radius-sm: 8px;
            --border: #e2e8f0;
            --shadow-1: 0 8px 20px rgba(15, 23, 42, 0.06);
            --surface-0: #f8fafc;
            --surface-1: #f1f5f9;
            --surface-2: #e2e8f0;
            --ink-0: #0f172a;
            --ink-1: #334155;
        }

        html.dark {
            --surface-0: #0b0b0c;
            --surface-1: #111214;
            --surface-2: #1a1c1f;
            --ink-0: #f8fafc;
            --ink-1: #cbd5f5;
            --border: #2a2d32;
            --shadow-1: 0 10px 22px rgba(0, 0, 0, 0.35);
        }

        .rounded-2xl {
            border-radius: var(--radius-lg) !important;
        }

        .rounded-xl {
            border-radius: var(--radius-md) !important;
        }

        .rounded-3xl {
            border-radius: var(--radius-lg) !important;
        }

        .rounded-lg,
        .rounded {
            border-radius: var(--radius-sm) !important;
        }

        .ds-card {
            border-radius: var(--radius-lg);
            border: 1px solid var(--border);
            background: var(--surface-1);
            box-shadow: var(--shadow-1);
        }

        .ds-panel {
            border-radius: var(--radius-lg);
            border: 1px solid var(--border);
            background: var(--surface-2);
        }

        .ds-input,
        .ds-select,
        .ds-textarea {
            border-radius: var(--radius-md);
            border: 1px solid var(--border);
            background: var(--surface-1);
            color: var(--ink-0);
            outline: none;
        }

        .ds-input {
            height: 36px;
            padding: 0 12px;
        }

        .ds-input-lg {
            height: 44px;
            padding: 0 14px;
        }

        .ds-textarea {
            padding: 12px;
            min-height: 120px;
        }

        .ds-button {
            border-radius: var(--radius-sm);
            border: 1px solid var(--border);
            background: transparent;
            color: var(--ink-1);
        }

        .ds-button-primary {
            border-radius: var(--radius-sm);
            border: 1px solid var(--primary);
            background: var(--primary);
            color: #ffffff;
        }

        .ds-icon-button {
            width: 32px;
            height: 32px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border);
            background: transparent;
            color: var(--ink-1);
        }

        .ds-drop {
            border-radius: var(--radius-md);
            border: 2px dashed var(--border);
            background: var(--surface-1);
        }

        html.dark .bg-slate-950 {
            background-color: var(--surface-0) !important;
        }

        html.dark .bg-slate-900,
        html.dark .bg-neutral-900 {
            background-color: var(--surface-1) !important;
        }

        html.dark .bg-slate-800,
        html.dark .bg-neutral-800 {
            background-color: var(--surface-2) !important;
        }

        html.dark .border-slate-800,
        html.dark .border-neutral-800,
        html.dark .border-slate-700 {
            border-color: #2a2d32 !important;
        }

        html.dark .text-slate-300,
        html.dark .text-slate-400 {
            color: #a1a8b5 !important;
        }

        html.dark .text-slate-500 {
            color: #8a94a3 !important;
        }

        html:not(.dark) .border-slate-200 {
            border-color: #cbd5e1;
        }

        html:not(.dark) .border-slate-200\/70 {
            border-color: rgba(203, 213, 225, 0.9);
        }

        html:not(.dark) .border-slate-200\/80 {
            border-color: rgba(203, 213, 225, 0.95);
        }

        html:not(.dark) .text-slate-400 {
            color: #64748b;
        }

        html:not(.dark) .text-slate-500 {
            color: #475569;
        }

        .print-pages {
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        .print-compact {
            padding: 24px !important;
        }

        .print-compact .print-header {
            margin-bottom: 16px !important;
            padding-bottom: 12px !important;
        }

        .print-compact .print-title {
            margin-bottom: 24px !important;
        }

        .print-compact .print-section {
            margin-bottom: 18px !important;
        }

        .print-compact .print-table th,
        .print-compact .print-table td {
            padding-top: 6px !important;
            padding-bottom: 6px !important;
        }

        .print-steps {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .print-compact .print-step-text,
        .print-compact .print-observations-text {
            line-height: 1.35 !important;
        }

        .print-compact .print-observations {
            padding-top: 14px !important;
        }

        .print-compact .print-footer {
            margin-top: 20px !important;
            padding-top: 10px !important;
        }

        .print-continuation {
            border-bottom: 1px dashed rgba(148, 163, 184, 0.6);
            color: #94a3b8;
            font-size: 0.7em;
            letter-spacing: 0.28em;
            margin-bottom: 16px;
            padding-bottom: 6px;
            text-align: center;
            text-transform: uppercase;
        }

        .print-measure {
            position: absolute !important;
            left: -9999px !important;
            top: 0 !important;
            visibility: hidden !important;
            pointer-events: none !important;
        }

        @media print {
            .no-print {
                display: none !important;
            }

            body {
                background-color: white;
            }

            .print-page,
            .print-page * {
                overflow: visible !important;
            }

            .print-area {
                box-shadow: none !important;
                border: none !important;
            }

            .print-table {
                break-inside: avoid;
                page-break-inside: avoid;
            }

            .print-table thead {
                display: table-header-group;
            }

            .print-row,
            .print-section,
            tr {
                break-inside: avoid;
                page-break-inside: avoid;
            }

            .print-pages {
                gap: 0;
            }

            .print-page {
                break-after: page;
                page-break-after: always;
            }

            .print-page--last {
                break-after: auto;
                page-break-after: auto;
            }

            .print-measure {
                display: none !important;
            }
        }
    </style>
</head>

<body>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"></script>
</body>

</html>
